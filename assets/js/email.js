function validateEmail(e){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(e)}function sanitizeInput(e){let t=document.createElement("div");return t.textContent=e,t.innerHTML}async function sendEmail(){let e=document.getElementById("contactEmail"),t=document.getElementById("emailResponse"),n=document.getElementById("subscribeBtn"),a=e.value;if(!validateEmail(a=sanitizeInput(a))){t.textContent="Please enter a valid email address.",t.classList.remove("hidden","text-green-600"),t.classList.add("text-red-600");return}n.textContent="Subscribing...",n.disabled=!0;try{let i=await fetch("https://allwyse-api-prod.onrender.com/lead",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})});if(!i.ok)throw Error("Failed to send email");t.textContent="Email sent successfully!",t.classList.remove("hidden","text-red-600"),t.classList.add("text-green-600"),e.value=""}catch(s){console.error("Error:",s),t.textContent="There was an error sending the email. Please try again.",t.classList.remove("hidden","text-green-600"),t.classList.add("text-red-600")}finally{n.textContent="Subscribe",n.disabled=!1}}